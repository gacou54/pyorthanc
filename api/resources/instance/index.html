
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="PyOrthanc library">
      
      
      
      
        <link rel="prev" href="../series/">
      
      
        <link rel="next" href="../../find/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>Instance - PyOrthanc</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#pyorthanc.Instance" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="PyOrthanc" class="md-header__button md-logo" aria-label="PyOrthanc" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            PyOrthanc
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Instance
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/gacou54/pyorthanc" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    gacou54/pyorthanc
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="PyOrthanc" class="md-nav__button md-logo" aria-label="PyOrthanc" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    PyOrthanc
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/gacou54/pyorthanc" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    gacou54/pyorthanc
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cheat_sheet/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cheat sheet
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Usage
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Usage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorial/quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quick Start
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorial/examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Examples
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Api Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Api Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../client/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Orthanc
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../async_client/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Asynchronous Orthanc
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../orthanc_sdk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Orthanc SDK
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../patient/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Patient
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../study/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Study
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../series/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Series
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Instance
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Instance
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pyorthanc.Instance" class="md-nav__link">
    <span class="md-ellipsis">
      Instance
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Instance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.acquisition_number" class="md-nav__link">
    <span class="md-ellipsis">
      acquisition_number
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.creation_date" class="md-nav__link">
    <span class="md-ellipsis">
      creation_date
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.file_size" class="md-nav__link">
    <span class="md-ellipsis">
      file_size
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.first_level_tags" class="md-nav__link">
    <span class="md-ellipsis">
      first_level_tags
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.image_comments" class="md-nav__link">
    <span class="md-ellipsis">
      image_comments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.image_index" class="md-nav__link">
    <span class="md-ellipsis">
      image_index
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.image_orientation_patient" class="md-nav__link">
    <span class="md-ellipsis">
      image_orientation_patient
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.image_position_patient" class="md-nav__link">
    <span class="md-ellipsis">
      image_position_patient
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.instance_number" class="md-nav__link">
    <span class="md-ellipsis">
      instance_number
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.labels" class="md-nav__link">
    <span class="md-ellipsis">
      labels
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.legacy_viewer_url" class="md-nav__link">
    <span class="md-ellipsis">
      legacy_viewer_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.number_of_frames" class="md-nav__link">
    <span class="md-ellipsis">
      number_of_frames
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.parent_patient" class="md-nav__link">
    <span class="md-ellipsis">
      parent_patient
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.parent_series" class="md-nav__link">
    <span class="md-ellipsis">
      parent_series
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.parent_study" class="md-nav__link">
    <span class="md-ellipsis">
      parent_study
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.series_identifier" class="md-nav__link">
    <span class="md-ellipsis">
      series_identifier
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.simplified_tags" class="md-nav__link">
    <span class="md-ellipsis">
      simplified_tags
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.tags" class="md-nav__link">
    <span class="md-ellipsis">
      tags
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.temporal_position_identifier" class="md-nav__link">
    <span class="md-ellipsis">
      temporal_position_identifier
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.uid" class="md-nav__link">
    <span class="md-ellipsis">
      uid
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.add_label" class="md-nav__link">
    <span class="md-ellipsis">
      add_label
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.anonymize" class="md-nav__link">
    <span class="md-ellipsis">
      anonymize
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.download" class="md-nav__link">
    <span class="md-ellipsis">
      download
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.get_content_by_tag" class="md-nav__link">
    <span class="md-ellipsis">
      get_content_by_tag
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.get_dicom_file_content" class="md-nav__link">
    <span class="md-ellipsis">
      get_dicom_file_content
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.get_main_information" class="md-nav__link">
    <span class="md-ellipsis">
      get_main_information
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.get_pydicom" class="md-nav__link">
    <span class="md-ellipsis">
      get_pydicom
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.modify" class="md-nav__link">
    <span class="md-ellipsis">
      modify
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.remove_label" class="md-nav__link">
    <span class="md-ellipsis">
      remove_label
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../find/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Find
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../filtering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Filtering
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../modality/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Modality
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../jobs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Jobs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../util/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Util
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../resource/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Resource
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../retrieve/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Retrieve
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../releases/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Releases
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    More information
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            More information
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Issues and contributing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../contacts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contacts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../citation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Citation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pyorthanc.Instance" class="md-nav__link">
    <span class="md-ellipsis">
      Instance
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Instance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.acquisition_number" class="md-nav__link">
    <span class="md-ellipsis">
      acquisition_number
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.creation_date" class="md-nav__link">
    <span class="md-ellipsis">
      creation_date
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.file_size" class="md-nav__link">
    <span class="md-ellipsis">
      file_size
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.first_level_tags" class="md-nav__link">
    <span class="md-ellipsis">
      first_level_tags
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.image_comments" class="md-nav__link">
    <span class="md-ellipsis">
      image_comments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.image_index" class="md-nav__link">
    <span class="md-ellipsis">
      image_index
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.image_orientation_patient" class="md-nav__link">
    <span class="md-ellipsis">
      image_orientation_patient
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.image_position_patient" class="md-nav__link">
    <span class="md-ellipsis">
      image_position_patient
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.instance_number" class="md-nav__link">
    <span class="md-ellipsis">
      instance_number
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.labels" class="md-nav__link">
    <span class="md-ellipsis">
      labels
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.legacy_viewer_url" class="md-nav__link">
    <span class="md-ellipsis">
      legacy_viewer_url
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.number_of_frames" class="md-nav__link">
    <span class="md-ellipsis">
      number_of_frames
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.parent_patient" class="md-nav__link">
    <span class="md-ellipsis">
      parent_patient
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.parent_series" class="md-nav__link">
    <span class="md-ellipsis">
      parent_series
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.parent_study" class="md-nav__link">
    <span class="md-ellipsis">
      parent_study
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.series_identifier" class="md-nav__link">
    <span class="md-ellipsis">
      series_identifier
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.simplified_tags" class="md-nav__link">
    <span class="md-ellipsis">
      simplified_tags
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.tags" class="md-nav__link">
    <span class="md-ellipsis">
      tags
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.temporal_position_identifier" class="md-nav__link">
    <span class="md-ellipsis">
      temporal_position_identifier
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.uid" class="md-nav__link">
    <span class="md-ellipsis">
      uid
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.add_label" class="md-nav__link">
    <span class="md-ellipsis">
      add_label
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.anonymize" class="md-nav__link">
    <span class="md-ellipsis">
      anonymize
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.download" class="md-nav__link">
    <span class="md-ellipsis">
      download
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.get_content_by_tag" class="md-nav__link">
    <span class="md-ellipsis">
      get_content_by_tag
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.get_dicom_file_content" class="md-nav__link">
    <span class="md-ellipsis">
      get_dicom_file_content
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.get_main_information" class="md-nav__link">
    <span class="md-ellipsis">
      get_main_information
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.get_pydicom" class="md-nav__link">
    <span class="md-ellipsis">
      get_pydicom
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.modify" class="md-nav__link">
    <span class="md-ellipsis">
      modify
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pyorthanc.Instance.remove_label" class="md-nav__link">
    <span class="md-ellipsis">
      remove_label
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>Instance</h1>

<div class="doc doc-object doc-class">



<h2 id="pyorthanc.Instance" class="doc doc-heading">
            <code>pyorthanc.Instance</code>


</h2>


    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="pyorthanc._resources.Resource (pyorthanc._resources.resource.Resource)" href="../resource/#pyorthanc._resources.Resource">Resource</a></code></p>


        <p>Represent an instance that is in an Orthanc server</p>
<p>This object has many getters that allow the user to retrieve metadata
or the entire DICOM file of the Instance</p>







              <details class="quote">
                <summary>Source code in <code>pyorthanc/_resources/instance.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Instance</span><span class="p">(</span><span class="n">Resource</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represent an instance that is in an Orthanc server</span>

<span class="sd">    This object has many getters that allow the user to retrieve metadata</span>
<span class="sd">    or the entire DICOM file of the Instance</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_dicom_file_content</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieves DICOM file</span>

<span class="sd">        This method retrieves bytes corresponding to DICOM file.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bytes</span>
<span class="sd">            Bytes corresponding to DICOM file</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        ```python</span>
<span class="sd">        from pyorthanc import Instance</span>
<span class="sd">        instance = Instance(&#39;instance_identifier&#39;, Orthanc(&#39;http://localhost:8042&#39;))</span>

<span class="sd">        dicom_file_bytes = instance.get_dicom_file_content()</span>
<span class="sd">        with open(&#39;your_path&#39;, &#39;wb&#39;) as file_handler:</span>
<span class="sd">            file_handler.write(dicom_file_bytes)</span>
<span class="sd">        ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get_instances_id_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id_</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">download</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filepath</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">BinaryIO</span><span class="p">],</span> <span class="n">with_progres</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Download the DICOM file to a target path or buffer</span>

<span class="sd">        This method is an alternative to the `.get_dicom_file_content()` method for large files.</span>
<span class="sd">        The `.get_dicom_file_content()` method will pull all the data in a single GET call,</span>
<span class="sd">        while `.download()` stream the data to a file or a buffer.</span>
<span class="sd">        Favor the `.download()` method to avoid timeout and memory issues.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        ```python</span>
<span class="sd">        from pyorthanc import Orthanc, Instance</span>
<span class="sd">        instance = Instance(&#39;instance_identifier&#39;, Orthanc(&#39;http://localhost:8042&#39;))</span>

<span class="sd">        # Download the dicom file</span>
<span class="sd">        instance.download(&#39;instance.dcm&#39;)</span>

<span class="sd">        # Download the file and show progress</span>
<span class="sd">        instance.download(&#39;instance.dcm&#39;, with_progres=True)</span>

<span class="sd">        # Or download in a buffer in memory</span>
<span class="sd">        buffer = io.BytesIO()</span>
<span class="sd">        instance.download(buffer)</span>
<span class="sd">        # Now do whatever you want to do</span>
<span class="sd">        buffer.seek(0)</span>
<span class="sd">        dicom_bytes = buffer.read()</span>
<span class="sd">        ```</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_download_file</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s1">/instances/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id_</span><span class="si">}</span><span class="s1">/file&#39;</span><span class="p">,</span> <span class="n">filepath</span><span class="p">,</span> <span class="n">with_progres</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">uid</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get SOPInstanceUID&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_main_dicom_tag_value</span><span class="p">(</span><span class="s1">&#39;SOPInstanceUID&#39;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_main_information</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get instance information</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Dict</span>
<span class="sd">            Dictionary with tags as key and information as value</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get_instances_id</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id_</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">legacy_viewer_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get Instance (legacy viewer) URL</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        str</span>
<span class="sd">            URL of instance (legacy viewer)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s1">/app/explorer.html#instance?uuid=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id_</span><span class="si">}</span><span class="s1">&#39;</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">file_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the file size</span>

<span class="sd">        The output is in bytes. Divide by 1_000_000 to</span>
<span class="sd">        get it in Mb.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        int</span>
<span class="sd">            The file size in bytes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_main_information</span><span class="p">()[</span><span class="s1">&#39;FileSize&#39;</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">creation_date</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">datetime</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get creation date</span>

<span class="sd">        The date have precision to the second.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        datetime</span>
<span class="sd">            Creation Date</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">date_string</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_main_dicom_tag_value</span><span class="p">(</span><span class="s1">&#39;InstanceCreationDate&#39;</span><span class="p">)</span>
        <span class="n">time_string</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_main_dicom_tag_value</span><span class="p">(</span><span class="s1">&#39;InstanceCreationTime&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">util</span><span class="o">.</span><span class="n">make_datetime_from_dicom_date</span><span class="p">(</span><span class="n">date_string</span><span class="p">,</span> <span class="n">time_string</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">series_identifier</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the parent series identifier&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_main_information</span><span class="p">()[</span><span class="s1">&#39;ParentSeries&#39;</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">parent_series</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Series</span><span class="p">:</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">.</span><span class="w"> </span><span class="kn">import</span> <span class="n">Series</span>
        <span class="k">return</span> <span class="n">Series</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">series_identifier</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">parent_study</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Study</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent_series</span><span class="o">.</span><span class="n">parent_study</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">parent_patient</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Patient</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent_study</span><span class="o">.</span><span class="n">parent_patient</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">acquisition_number</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_main_dicom_tag_value</span><span class="p">(</span><span class="s1">&#39;AcquisitionNumber&#39;</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">image_index</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_main_dicom_tag_value</span><span class="p">(</span><span class="s1">&#39;ImageIndex&#39;</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">image_orientation_patient</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
        <span class="n">orientation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_main_dicom_tag_value</span><span class="p">(</span><span class="s1">&#39;ImageOrientationPatient&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">orientation</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&#39;</span><span class="p">)]</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">image_position_patient</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
        <span class="n">position</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_main_dicom_tag_value</span><span class="p">(</span><span class="s1">&#39;ImagePositionPatient&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">position</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&#39;</span><span class="p">)]</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">image_comments</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_main_dicom_tag_value</span><span class="p">(</span><span class="s1">&#39;ImageComments&#39;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">instance_number</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_main_dicom_tag_value</span><span class="p">(</span><span class="s1">&#39;InstanceNumber&#39;</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">number_of_frames</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_main_dicom_tag_value</span><span class="p">(</span><span class="s1">&#39;NumberOfFrames&#39;</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">temporal_position_identifier</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_main_dicom_tag_value</span><span class="p">(</span><span class="s1">&#39;TemporalPositionIdentifier&#39;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">first_level_tags</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get first level tags&quot;&quot;&quot;</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">warnings</span><span class="w"> </span><span class="kn">import</span> <span class="n">warn</span>
        <span class="n">warn</span><span class="p">(</span><span class="s2">&quot;`Instance.first_level_tags` is deprecated. Use `Instance.tags` instead.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tags</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">tags</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get tags&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get_instances_id_tags</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id_</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">simplified_tags</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get simplified tags&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get_instances_id_tags</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id_</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;simplify&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}))</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">labels</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get instance labels&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_main_information</span><span class="p">()[</span><span class="s1">&#39;Labels&#39;</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">add_label</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add label to resource&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">put_instances_id_labels_label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id_</span><span class="p">,</span> <span class="n">label</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">remove_label</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Remove label from resource&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">delete_instances_id_labels_label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id_</span><span class="p">,</span> <span class="n">label</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_content_by_tag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get content by tag</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        tag</span>
<span class="sd">            Tag like &#39;ManufacturerModelName&#39; or &#39;0008-1090&#39; or a group element like &#39;&#39; or &#39;0008-1110/0/0008-1150&#39;.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        Any</span>
<span class="sd">            Content corresponding to specified tag.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get_instances_id_content_path</span><span class="p">(</span><span class="n">id_</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id_</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">tag</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\x00</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">anonymize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">remove</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">replace</span><span class="p">:</span> <span class="n">Dict</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">keep</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                  <span class="n">keep_private_tags</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">keep_source</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
                  <span class="n">private_creator</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">dicom_version</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Anonymize Instance</span>

<span class="sd">        If no error has been raise, then it creates a new anonymous instance.</span>
<span class="sd">        Documentation: https://book.orthanc-server.com/users/anonymization.html</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        remove</span>
<span class="sd">            List of tag to remove</span>
<span class="sd">        replace</span>
<span class="sd">            Dictionary of {tag: new_content}</span>
<span class="sd">        keep</span>
<span class="sd">            List of tag to keep unchanged</span>
<span class="sd">        force</span>
<span class="sd">            Some tags can&#39;t be changed without forcing it (e.g. SOPInstanceUID) for security reason</span>
<span class="sd">        keep_private_tags</span>
<span class="sd">            If True, keep the private tags from the DICOM instances.</span>
<span class="sd">        keep_source</span>
<span class="sd">            If False, instructs Orthanc to the remove original resources.</span>
<span class="sd">            By default, the original resources are kept in Orthanc.</span>
<span class="sd">        private_creator</span>
<span class="sd">            The private creator to be used for private tags in replace.</span>
<span class="sd">        dicom_version</span>
<span class="sd">            Version of the DICOM standard to be used for anonymization.</span>
<span class="sd">            Check out configuration option DeidentifyLogsDicomVersion for possible values.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bytes</span>
<span class="sd">            Raw bytes of the anonymized instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">remove</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">remove</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">remove</span>
        <span class="n">replace</span> <span class="o">=</span> <span class="p">{}</span> <span class="k">if</span> <span class="n">replace</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">replace</span>
        <span class="n">keep</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">keep</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">keep</span>

        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;Remove&#39;</span><span class="p">:</span> <span class="n">remove</span><span class="p">,</span>
            <span class="s1">&#39;Replace&#39;</span><span class="p">:</span> <span class="n">replace</span><span class="p">,</span>
            <span class="s1">&#39;Keep&#39;</span><span class="p">:</span> <span class="n">keep</span><span class="p">,</span>
            <span class="s1">&#39;Force&#39;</span><span class="p">:</span> <span class="n">force</span><span class="p">,</span>
            <span class="s1">&#39;KeepPrivateTags&#39;</span><span class="p">:</span> <span class="n">keep_private_tags</span><span class="p">,</span>
            <span class="s1">&#39;KeepSource&#39;</span><span class="p">:</span> <span class="n">keep_source</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">private_creator</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s1">&#39;PrivateCreator&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">private_creator</span>
        <span class="k">if</span> <span class="n">dicom_version</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s1">&#39;DicomVersion&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dicom_version</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post_instances_id_anonymize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id_</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">modify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">remove</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">replace</span><span class="p">:</span> <span class="n">Dict</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">keep</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
               <span class="n">remove_private_tags</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">keep_source</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
               <span class="n">private_creator</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Modify Instance</span>

<span class="sd">        If no error has been raise, then it creates a new modified instance.</span>
<span class="sd">        Documentation: https://book.orthanc-server.com/users/anonymization.html</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        remove</span>
<span class="sd">            List of tag to remove</span>
<span class="sd">        replace</span>
<span class="sd">            Dictionary of {tag: new_content}</span>
<span class="sd">        keep</span>
<span class="sd">            Keep the original value of the specified tags, to be chosen among the StudyInstanceUID,</span>
<span class="sd">            SeriesInstanceUID and SOPInstanceUID tags. Avoid this feature as much as possible,</span>
<span class="sd">            as this breaks the DICOM model of the real world.</span>
<span class="sd">        force</span>
<span class="sd">            Some tags can&#39;t be changed without forcing it (e.g. SOPInstanceUID) for security reason</span>
<span class="sd">        remove_private_tags</span>
<span class="sd">            If True, remove the private tags from the DICOM instances.</span>
<span class="sd">        keep_source</span>
<span class="sd">            If False, instructs Orthanc to the remove original resources.</span>
<span class="sd">            By default, the original resources are kept in Orthanc.</span>
<span class="sd">        private_creator</span>
<span class="sd">            The private creator to be used for private tags in replace.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bytes</span>
<span class="sd">            Raw bytes of the modified instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">remove</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">remove</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">remove</span>
        <span class="n">replace</span> <span class="o">=</span> <span class="p">{}</span> <span class="k">if</span> <span class="n">replace</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">replace</span>
        <span class="n">keep</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">keep</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">keep</span>

        <span class="k">if</span> <span class="s1">&#39;SOPInstanceUID&#39;</span> <span class="ow">in</span> <span class="n">replace</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">force</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">ModificationError</span><span class="p">(</span><span class="s1">&#39;If SOPInstanceUID is replaced, `force` must be `True`&#39;</span><span class="p">)</span>

        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;Remove&#39;</span><span class="p">:</span> <span class="n">remove</span><span class="p">,</span>
            <span class="s1">&#39;Replace&#39;</span><span class="p">:</span> <span class="n">replace</span><span class="p">,</span>
            <span class="s1">&#39;Keep&#39;</span><span class="p">:</span> <span class="n">keep</span><span class="p">,</span>
            <span class="s1">&#39;Force&#39;</span><span class="p">:</span> <span class="n">force</span><span class="p">,</span>
            <span class="s1">&#39;RemovePrivateTags&#39;</span><span class="p">:</span> <span class="n">remove_private_tags</span><span class="p">,</span>
            <span class="s1">&#39;KeepSource&#39;</span><span class="p">:</span> <span class="n">keep_source</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">private_creator</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">data</span><span class="p">[</span><span class="s1">&#39;PrivateCreator&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">private_creator</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post_instances_id_modify</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id_</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_pydicom</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pydicom</span><span class="o">.</span><span class="n">FileDataset</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Retrieve a pydicom.FileDataset object corresponding to the instance.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">util</span><span class="o">.</span><span class="n">get_pydicom</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id_</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="pyorthanc.Instance.acquisition_number" class="doc doc-heading">
            <code class=" language-python"><span class="n">acquisition_number</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pyorthanc.Instance.creation_date" class="doc doc-heading">
            <code class=" language-python"><span class="n">creation_date</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get creation date</p>
<p>The date have precision to the second.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="datetime.datetime">datetime</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Creation Date</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pyorthanc.Instance.file_size" class="doc doc-heading">
            <code class=" language-python"><span class="n">file_size</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get the file size</p>
<p>The output is in bytes. Divide by 1_000_000 to
get it in Mb.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The file size in bytes.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pyorthanc.Instance.first_level_tags" class="doc doc-heading">
            <code class=" language-python"><span class="n">first_level_tags</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get first level tags</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pyorthanc.Instance.image_comments" class="doc doc-heading">
            <code class=" language-python"><span class="n">image_comments</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pyorthanc.Instance.image_index" class="doc doc-heading">
            <code class=" language-python"><span class="n">image_index</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pyorthanc.Instance.image_orientation_patient" class="doc doc-heading">
            <code class=" language-python"><span class="n">image_orientation_patient</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pyorthanc.Instance.image_position_patient" class="doc doc-heading">
            <code class=" language-python"><span class="n">image_position_patient</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pyorthanc.Instance.instance_number" class="doc doc-heading">
            <code class=" language-python"><span class="n">instance_number</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pyorthanc.Instance.labels" class="doc doc-heading">
            <code class=" language-python"><span class="n">labels</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get instance labels</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pyorthanc.Instance.legacy_viewer_url" class="doc doc-heading">
            <code class=" language-python"><span class="n">legacy_viewer_url</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get Instance (legacy viewer) URL</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>URL of instance (legacy viewer)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pyorthanc.Instance.number_of_frames" class="doc doc-heading">
            <code class=" language-python"><span class="n">number_of_frames</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pyorthanc.Instance.parent_patient" class="doc doc-heading">
            <code class=" language-python"><span class="n">parent_patient</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pyorthanc.Instance.parent_series" class="doc doc-heading">
            <code class=" language-python"><span class="n">parent_series</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pyorthanc.Instance.parent_study" class="doc doc-heading">
            <code class=" language-python"><span class="n">parent_study</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pyorthanc.Instance.series_identifier" class="doc doc-heading">
            <code class=" language-python"><span class="n">series_identifier</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get the parent series identifier</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pyorthanc.Instance.simplified_tags" class="doc doc-heading">
            <code class=" language-python"><span class="n">simplified_tags</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get simplified tags</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pyorthanc.Instance.tags" class="doc doc-heading">
            <code class=" language-python"><span class="n">tags</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get tags</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pyorthanc.Instance.temporal_position_identifier" class="doc doc-heading">
            <code class=" language-python"><span class="n">temporal_position_identifier</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="pyorthanc.Instance.uid" class="doc doc-heading">
            <code class=" language-python"><span class="n">uid</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>Get SOPInstanceUID</p>

    </div>

</div>



<div class="doc doc-object doc-function">


<h3 id="pyorthanc.Instance.add_label" class="doc doc-heading">
            <code class=" language-python"><span class="n">add_label</span><span class="p">(</span><span class="n">label</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Add label to resource</p>


            <details class="quote">
              <summary>Source code in <code>pyorthanc/_resources/instance.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_label</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Add label to resource&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">put_instances_id_labels_label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id_</span><span class="p">,</span> <span class="n">label</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pyorthanc.Instance.anonymize" class="doc doc-heading">
            <code class=" language-python"><span class="n">anonymize</span><span class="p">(</span><span class="n">remove</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">keep</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">keep_private_tags</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">keep_source</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">private_creator</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">dicom_version</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Anonymize Instance</p>
<p>If no error has been raise, then it creates a new anonymous instance.
Documentation: https://book.orthanc-server.com/users/anonymization.html</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>remove</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of tag to remove</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>replace</code>
            </td>
            <td>
                  <code><span title="typing.Dict">Dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary of {tag: new_content}</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>keep</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of tag to keep unchanged</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>force</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Some tags can't be changed without forcing it (e.g. SOPInstanceUID) for security reason</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>keep_private_tags</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, keep the private tags from the DICOM instances.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>keep_source</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If False, instructs Orthanc to the remove original resources.
By default, the original resources are kept in Orthanc.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>private_creator</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The private creator to be used for private tags in replace.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dicom_version</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Version of the DICOM standard to be used for anonymization.
Check out configuration option DeidentifyLogsDicomVersion for possible values.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bytes">bytes</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Raw bytes of the anonymized instance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pyorthanc/_resources/instance.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">anonymize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">remove</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">replace</span><span class="p">:</span> <span class="n">Dict</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">keep</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
              <span class="n">keep_private_tags</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">keep_source</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
              <span class="n">private_creator</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">dicom_version</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Anonymize Instance</span>

<span class="sd">    If no error has been raise, then it creates a new anonymous instance.</span>
<span class="sd">    Documentation: https://book.orthanc-server.com/users/anonymization.html</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    remove</span>
<span class="sd">        List of tag to remove</span>
<span class="sd">    replace</span>
<span class="sd">        Dictionary of {tag: new_content}</span>
<span class="sd">    keep</span>
<span class="sd">        List of tag to keep unchanged</span>
<span class="sd">    force</span>
<span class="sd">        Some tags can&#39;t be changed without forcing it (e.g. SOPInstanceUID) for security reason</span>
<span class="sd">    keep_private_tags</span>
<span class="sd">        If True, keep the private tags from the DICOM instances.</span>
<span class="sd">    keep_source</span>
<span class="sd">        If False, instructs Orthanc to the remove original resources.</span>
<span class="sd">        By default, the original resources are kept in Orthanc.</span>
<span class="sd">    private_creator</span>
<span class="sd">        The private creator to be used for private tags in replace.</span>
<span class="sd">    dicom_version</span>
<span class="sd">        Version of the DICOM standard to be used for anonymization.</span>
<span class="sd">        Check out configuration option DeidentifyLogsDicomVersion for possible values.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    bytes</span>
<span class="sd">        Raw bytes of the anonymized instance.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">remove</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">remove</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">remove</span>
    <span class="n">replace</span> <span class="o">=</span> <span class="p">{}</span> <span class="k">if</span> <span class="n">replace</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">replace</span>
    <span class="n">keep</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">keep</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">keep</span>

    <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;Remove&#39;</span><span class="p">:</span> <span class="n">remove</span><span class="p">,</span>
        <span class="s1">&#39;Replace&#39;</span><span class="p">:</span> <span class="n">replace</span><span class="p">,</span>
        <span class="s1">&#39;Keep&#39;</span><span class="p">:</span> <span class="n">keep</span><span class="p">,</span>
        <span class="s1">&#39;Force&#39;</span><span class="p">:</span> <span class="n">force</span><span class="p">,</span>
        <span class="s1">&#39;KeepPrivateTags&#39;</span><span class="p">:</span> <span class="n">keep_private_tags</span><span class="p">,</span>
        <span class="s1">&#39;KeepSource&#39;</span><span class="p">:</span> <span class="n">keep_source</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="n">private_creator</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;PrivateCreator&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">private_creator</span>
    <span class="k">if</span> <span class="n">dicom_version</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;DicomVersion&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dicom_version</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post_instances_id_anonymize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id_</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pyorthanc.Instance.download" class="doc doc-heading">
            <code class=" language-python"><span class="n">download</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">with_progres</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Download the DICOM file to a target path or buffer</p>
<p>This method is an alternative to the <code>.get_dicom_file_content()</code> method for large files.
The <code>.get_dicom_file_content()</code> method will pull all the data in a single GET call,
while <code>.download()</code> stream the data to a file or a buffer.
Favor the <code>.download()</code> method to avoid timeout and memory issues.</p>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">pyorthanc</span><span class="w"> </span><span class="kn">import</span> <span class="n">Orthanc</span><span class="p">,</span> <span class="n">Instance</span>
<span class="n">instance</span> <span class="o">=</span> <span class="n">Instance</span><span class="p">(</span><span class="s1">&#39;instance_identifier&#39;</span><span class="p">,</span> <span class="n">Orthanc</span><span class="p">(</span><span class="s1">&#39;http://localhost:8042&#39;</span><span class="p">))</span>

<span class="c1"># Download the dicom file</span>
<span class="n">instance</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;instance.dcm&#39;</span><span class="p">)</span>

<span class="c1"># Download the file and show progress</span>
<span class="n">instance</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;instance.dcm&#39;</span><span class="p">,</span> <span class="n">with_progres</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Or download in a buffer in memory</span>
<span class="n">buffer</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">()</span>
<span class="n">instance</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">buffer</span><span class="p">)</span>
<span class="c1"># Now do whatever you want to do</span>
<span class="n">buffer</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">dicom_bytes</span> <span class="o">=</span> <span class="n">buffer</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</code></pre></div>


            <details class="quote">
              <summary>Source code in <code>pyorthanc/_resources/instance.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">download</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filepath</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">BinaryIO</span><span class="p">],</span> <span class="n">with_progres</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Download the DICOM file to a target path or buffer</span>

<span class="sd">    This method is an alternative to the `.get_dicom_file_content()` method for large files.</span>
<span class="sd">    The `.get_dicom_file_content()` method will pull all the data in a single GET call,</span>
<span class="sd">    while `.download()` stream the data to a file or a buffer.</span>
<span class="sd">    Favor the `.download()` method to avoid timeout and memory issues.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    ```python</span>
<span class="sd">    from pyorthanc import Orthanc, Instance</span>
<span class="sd">    instance = Instance(&#39;instance_identifier&#39;, Orthanc(&#39;http://localhost:8042&#39;))</span>

<span class="sd">    # Download the dicom file</span>
<span class="sd">    instance.download(&#39;instance.dcm&#39;)</span>

<span class="sd">    # Download the file and show progress</span>
<span class="sd">    instance.download(&#39;instance.dcm&#39;, with_progres=True)</span>

<span class="sd">    # Or download in a buffer in memory</span>
<span class="sd">    buffer = io.BytesIO()</span>
<span class="sd">    instance.download(buffer)</span>
<span class="sd">    # Now do whatever you want to do</span>
<span class="sd">    buffer.seek(0)</span>
<span class="sd">    dicom_bytes = buffer.read()</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_download_file</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s1">/instances/</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id_</span><span class="si">}</span><span class="s1">/file&#39;</span><span class="p">,</span> <span class="n">filepath</span><span class="p">,</span> <span class="n">with_progres</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pyorthanc.Instance.get_content_by_tag" class="doc doc-heading">
            <code class=" language-python"><span class="n">get_content_by_tag</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get content by tag</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>tag</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Tag like 'ManufacturerModelName' or '0008-1090' or a group element like '' or '0008-1110/0/0008-1150'.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Content corresponding to specified tag.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pyorthanc/_resources/instance.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_content_by_tag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get content by tag</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    tag</span>
<span class="sd">        Tag like &#39;ManufacturerModelName&#39; or &#39;0008-1090&#39; or a group element like &#39;&#39; or &#39;0008-1110/0/0008-1150&#39;.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Any</span>
<span class="sd">        Content corresponding to specified tag.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get_instances_id_content_path</span><span class="p">(</span><span class="n">id_</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id_</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">tag</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\x00</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pyorthanc.Instance.get_dicom_file_content" class="doc doc-heading">
            <code class=" language-python"><span class="n">get_dicom_file_content</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Retrieves DICOM file</p>
<p>This method retrieves bytes corresponding to DICOM file.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bytes">bytes</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Bytes corresponding to DICOM file</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Examples:</span></p>
    <div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">pyorthanc</span><span class="w"> </span><span class="kn">import</span> <span class="n">Instance</span>
<span class="n">instance</span> <span class="o">=</span> <span class="n">Instance</span><span class="p">(</span><span class="s1">&#39;instance_identifier&#39;</span><span class="p">,</span> <span class="n">Orthanc</span><span class="p">(</span><span class="s1">&#39;http://localhost:8042&#39;</span><span class="p">))</span>

<span class="n">dicom_file_bytes</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">get_dicom_file_content</span><span class="p">()</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;your_path&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file_handler</span><span class="p">:</span>
    <span class="n">file_handler</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">dicom_file_bytes</span><span class="p">)</span>
</code></pre></div>


            <details class="quote">
              <summary>Source code in <code>pyorthanc/_resources/instance.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_dicom_file_content</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieves DICOM file</span>

<span class="sd">    This method retrieves bytes corresponding to DICOM file.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    bytes</span>
<span class="sd">        Bytes corresponding to DICOM file</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    ```python</span>
<span class="sd">    from pyorthanc import Instance</span>
<span class="sd">    instance = Instance(&#39;instance_identifier&#39;, Orthanc(&#39;http://localhost:8042&#39;))</span>

<span class="sd">    dicom_file_bytes = instance.get_dicom_file_content()</span>
<span class="sd">    with open(&#39;your_path&#39;, &#39;wb&#39;) as file_handler:</span>
<span class="sd">        file_handler.write(dicom_file_bytes)</span>
<span class="sd">    ```</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get_instances_id_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id_</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pyorthanc.Instance.get_main_information" class="doc doc-heading">
            <code class=" language-python"><span class="n">get_main_information</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Get instance information</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="typing.Dict">Dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary with tags as key and information as value</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pyorthanc/_resources/instance.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_main_information</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get instance information</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Dict</span>
<span class="sd">        Dictionary with tags as key and information as value</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">get_instances_id</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id_</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pyorthanc.Instance.get_pydicom" class="doc doc-heading">
            <code class=" language-python"><span class="n">get_pydicom</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Retrieve a pydicom.FileDataset object corresponding to the instance.</p>


            <details class="quote">
              <summary>Source code in <code>pyorthanc/_resources/instance.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_pydicom</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pydicom</span><span class="o">.</span><span class="n">FileDataset</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve a pydicom.FileDataset object corresponding to the instance.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">util</span><span class="o">.</span><span class="n">get_pydicom</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id_</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pyorthanc.Instance.modify" class="doc doc-heading">
            <code class=" language-python"><span class="n">modify</span><span class="p">(</span><span class="n">remove</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">keep</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">remove_private_tags</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">keep_source</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">private_creator</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Modify Instance</p>
<p>If no error has been raise, then it creates a new modified instance.
Documentation: https://book.orthanc-server.com/users/anonymization.html</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>remove</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of tag to remove</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>replace</code>
            </td>
            <td>
                  <code><span title="typing.Dict">Dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary of {tag: new_content}</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>keep</code>
            </td>
            <td>
                  <code><span title="typing.List">List</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Keep the original value of the specified tags, to be chosen among the StudyInstanceUID,
SeriesInstanceUID and SOPInstanceUID tags. Avoid this feature as much as possible,
as this breaks the DICOM model of the real world.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>force</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Some tags can't be changed without forcing it (e.g. SOPInstanceUID) for security reason</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>remove_private_tags</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, remove the private tags from the DICOM instances.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>keep_source</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If False, instructs Orthanc to the remove original resources.
By default, the original resources are kept in Orthanc.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>private_creator</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The private creator to be used for private tags in replace.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bytes">bytes</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Raw bytes of the modified instance.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="quote">
              <summary>Source code in <code>pyorthanc/_resources/instance.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">modify</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">remove</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">replace</span><span class="p">:</span> <span class="n">Dict</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">keep</span><span class="p">:</span> <span class="n">List</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
           <span class="n">remove_private_tags</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">keep_source</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
           <span class="n">private_creator</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">force</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Modify Instance</span>

<span class="sd">    If no error has been raise, then it creates a new modified instance.</span>
<span class="sd">    Documentation: https://book.orthanc-server.com/users/anonymization.html</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    remove</span>
<span class="sd">        List of tag to remove</span>
<span class="sd">    replace</span>
<span class="sd">        Dictionary of {tag: new_content}</span>
<span class="sd">    keep</span>
<span class="sd">        Keep the original value of the specified tags, to be chosen among the StudyInstanceUID,</span>
<span class="sd">        SeriesInstanceUID and SOPInstanceUID tags. Avoid this feature as much as possible,</span>
<span class="sd">        as this breaks the DICOM model of the real world.</span>
<span class="sd">    force</span>
<span class="sd">        Some tags can&#39;t be changed without forcing it (e.g. SOPInstanceUID) for security reason</span>
<span class="sd">    remove_private_tags</span>
<span class="sd">        If True, remove the private tags from the DICOM instances.</span>
<span class="sd">    keep_source</span>
<span class="sd">        If False, instructs Orthanc to the remove original resources.</span>
<span class="sd">        By default, the original resources are kept in Orthanc.</span>
<span class="sd">    private_creator</span>
<span class="sd">        The private creator to be used for private tags in replace.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    bytes</span>
<span class="sd">        Raw bytes of the modified instance.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">remove</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">remove</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">remove</span>
    <span class="n">replace</span> <span class="o">=</span> <span class="p">{}</span> <span class="k">if</span> <span class="n">replace</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">replace</span>
    <span class="n">keep</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">if</span> <span class="n">keep</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">keep</span>

    <span class="k">if</span> <span class="s1">&#39;SOPInstanceUID&#39;</span> <span class="ow">in</span> <span class="n">replace</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">force</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">errors</span><span class="o">.</span><span class="n">ModificationError</span><span class="p">(</span><span class="s1">&#39;If SOPInstanceUID is replaced, `force` must be `True`&#39;</span><span class="p">)</span>

    <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;Remove&#39;</span><span class="p">:</span> <span class="n">remove</span><span class="p">,</span>
        <span class="s1">&#39;Replace&#39;</span><span class="p">:</span> <span class="n">replace</span><span class="p">,</span>
        <span class="s1">&#39;Keep&#39;</span><span class="p">:</span> <span class="n">keep</span><span class="p">,</span>
        <span class="s1">&#39;Force&#39;</span><span class="p">:</span> <span class="n">force</span><span class="p">,</span>
        <span class="s1">&#39;RemovePrivateTags&#39;</span><span class="p">:</span> <span class="n">remove_private_tags</span><span class="p">,</span>
        <span class="s1">&#39;KeepSource&#39;</span><span class="p">:</span> <span class="n">keep_source</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="n">private_creator</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">data</span><span class="p">[</span><span class="s1">&#39;PrivateCreator&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">private_creator</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">post_instances_id_modify</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id_</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="pyorthanc.Instance.remove_label" class="doc doc-heading">
            <code class=" language-python"><span class="n">remove_label</span><span class="p">(</span><span class="n">label</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Remove label from resource</p>


            <details class="quote">
              <summary>Source code in <code>pyorthanc/_resources/instance.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">remove_label</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Remove label from resource&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">delete_instances_id_labels_label</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id_</span><span class="p">,</span> <span class="n">label</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.sections", "content.code.copy", "content.code.select"], "search": "../../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
    
  </body>
</html>